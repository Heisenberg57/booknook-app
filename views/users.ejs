<!DOCTYPE html>
<html>
<head>
  <title>Users</title>
   <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
    rel="stylesheet">
  <style>
    form { margin: 5px 0; }
    input { margin-right: 5px; }
  </style>
</head>
<body  class="bg-light">
    <div class="container py-5"></div>
  <h1>All Users</h1>

  <!-- Add New User -->
  <form method="POST" action="/users-ui">
    <input type="text" name="name" placeholder="Name" required>
    <input type="email" name="email" placeholder="Email" required>
    <button type="submit">Add User</button>
  </form>

  <hr>

  <!-- User List with Edit + Delete -->
  <ul>
    <% users.forEach(user => { %>
      <li>
        <%= user.name %> - <%= user.email %>

        <!-- Edit Form -->
        <form method="POST" action="/users-ui/edit/<%= user.id %>" style="display:inline;">
          <input type="text" name="name" value="<%= user.name %>" required>
          <input type="email" name="email" value="<%= user.email %>" required>
          <button type="submit">Update</button>
        </form>

        <!-- Delete Button -->
        <form method="POST" action="/users-ui/delete/<%= user.id %>" style="display:inline;">
          <button type="submit" onclick="return confirm('Delete this user?')">Delete</button>
        </form>
      </li>
    <% }) %>
  </ul>

  <a href="/">Back to Home</a>
</body>
</html>
